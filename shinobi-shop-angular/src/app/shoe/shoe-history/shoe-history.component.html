<app-header></app-header>
<!-- Shoping Cart Section Begin -->
<section class="shoping-cart spad">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="shoping__cart__table">
          <table>
            <thead>
            <tr>
              <th class="shoping__product">Sản phẩm</th>
              <th>Ngày mua</th>
              <th>Giá</th>
              <th>Số lượng</th>
              <th class="pl-5">Tổng cộng</th>
              <th></th>
            </tr>
            </thead>
            <tbody *ngFor="let item of (historyList$ | async)!; index as i">
            <tr>
              <td class="shoping__cart__item">
                <img src="{{item.image}}" alt="" style="height: 80px">
                <strong style="font-size: 20px">{{item.name | titlecase}} </strong>
                <span class="ml-2">(Size: <strong>{{item.size}}</strong>)</span>
              </td>

              <td class="shoping__cart__price px-5" style="font-weight: normal">
                {{item.date | date: "dd/MM/yyyy"}}
              </td>

              <td class="shoping__cart__price px-5" style="font-weight: normal">
                {{item.price * (1 - item.discount / 100) | currency: "VND"}}
                <del *ngIf="item.discount > 0" class="text-secondary ml-2"
                     style="font-size: 17px"> {{item.price | currency: "VND"}}</del>
              </td>

              <td class="shoping__cart__price px-5" style="font-weight: normal">
                {{item.quantity}}
              </td>

              <td class="shoping__cart__total pl-5" style="font-weight: normal; color: red">
                {{item.price * (1 - item.discount / 100) * item.quantity | currency: "VND"}}
              </td>
            </tr>
            </tbody>
          </table>

          <div class="product__pagination text-center mt-4">
            <a (click)="previous()" *ngIf="page > 1"><i class="fa fa-chevron-left"></i></a>
            <a href="#" style="pointer-events: none; background-color: #c7c7c7; color: white" *ngIf="page <= 1">
              <i class="fa fa-chevron-left"></i></a>

            <a (click)="getPage1()" *ngIf="page > 1">1</a>

            <a href="#" style="pointer-events: none; background-color: #c7c7c7; color: white" *ngIf="page > 4">...</a>

            <a (click)="getPageP()" *ngIf="page > 3">{{page - 2}}</a>
            <a (click)="previous()" *ngIf="page > 2">{{page - 1}}</a>
            <a href="#" style="pointer-events: none; background-color: gray; color: white">{{page}}</a>
            <a (click)="next()" *ngIf="page < totalPage - 1">{{page + 1}}</a>
            <a (click)="getPageN()" *ngIf="page < totalPage - 2">{{page + 2}}</a>

            <a href="#" style="pointer-events: none; background-color: #c7c7c7; color: white"
               *ngIf="page < totalPage - 3">...</a>

            <a (click)="getPageEnd()" *ngIf="page < totalPage">{{totalPage}}</a>

            <a (click)="next()" *ngIf="page < totalPage"><i class="fa fa-chevron-right"></i></a>
            <a href="#" style="pointer-events: none; background-color: #c7c7c7; color: white" *ngIf="page >= totalPage">
              <i class="fa fa-chevron-right"></i></a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- Shoping Cart Section End -->
<app-footer></app-footer>
